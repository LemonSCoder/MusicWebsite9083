<!DOCTYPE html>
<html style="font-family:Helvetica" lang="en">
    <head>
        <body style="background-color:#609CE1">
            <header>
                <h1>Random Thing</h1>
                <h2> Insert Music Here &#127925 </h2>
                <input type="file" id="myAudio" name="AudioInput" accept="audio/*" multiple size = "50"> <input type="reset">
                <button onclick="playAudio()">Play Audio</button>
                <script> 
                    var fileNumber = 0;
                    function playAudio() {
                        var music = document.getElementById("myAudio")
                        var musicFiles = music.files
                        var file = musicFiles[fileNumber]
                        var fileReader = new FileReader()
                        fileReader.onloadend = function (e) {
                            var arrayBuffer = e.target.result;
                            var blob = new Blob([arrayBuffer], {type: "audio/mpeg3"})
                            document.getElementById("audiosource").src = URL.createObjectURL(blob)
                            var url = document.getElementById("audiosource").src
                        }
                        fileReader.readAsArrayBuffer(file)
                        //music.play();
                    };
                    function switchAudio() {
                        if (musicFiles.length >= fileNumber + 1 && musicFiles.length != 0) {
                            console.log(musicFiles.length);
                            fileNumber += 1;
                        } else {
                            fileNumber = 0;
                        }
                        playAudio();
                    }
                    function dropdownFunction() {
                        document.getElementById("myDropdown").classList.toggle("show");
                    }
                    window.onclick = function(event) {
                        if (!event.target.matches('.dropbtn')) {
                            var dropdowns = document.getElementsByClassName("dropdown-content");
                            var i;
                            for (i=0; i < dropdowns.length; i++) {
                                var openDropdown = dropdowns[i];
                                if (openDropdown.classList.contains('show')) {
                                    openDropdown.classList.remove("show");
                                }
                            }
                        }
                    }
                </script> 
            </header>
            <audio id="audiosource" controls></audio>
            <button onclick="switchAudio()"> Switch </button>
            <div class="dropdown">
                <button onclick="dropdownFunction()" class="dropbtn"> Switch to Choice Song </button>
                <div id="myDropdown" class="dropdown-content">
                    <p>
                      <script>
                          var url;
                      </script>
                    </p>
                </div>
            </div>
            <style>
                html {
                    text-align: center;
                    margin: 4px 2px;
                }
                header {
                    background-color: skyblue;
                }
                div {
                    background-color: #236AB9;
                    text-align: center;
                }
                form {
                    background-color: #57779b;
                    text-align: center;
                }
                audio {
                    background-color: #133863;
                    text-align: center;
                }
                input {
                    width : 15%;
                    padding: 15px 25px;
                    background-color: #3CBC8D;
                    box-shadow: 5px 5px;
                }
                input:hover {
                    transform: scale(1.1, 1.1);
                    transition-timing-function: ease-in-out;
                    animation-duration: 5s;
                }
                #container {
                    direction: rtl;
                    scroll-padding-right: 10px;
                }
                .dropbtn {
                    background-color: #3498DB;
                    color: aliceblue;
                    padding: 15px;
                    cursor: pointer;
                }
                .dropbtn:hover, .dropbtn:focus {
                    background-color: beige;
                }
                .dropdown {
                    display: inline-block;
                }
                .dropdown-content {
                    display: none;
                    background-color: white;
                    z-index: 1;
                }
                .dropdown-content a {
                    color: chocolate;
                    padding: 12px 16px;
                    display: block;
                }
                .dropdown-content a:hover {background-color: #ddd;}
                .show {display:block;}
            </style>
        </body>
    </head>
</html>
